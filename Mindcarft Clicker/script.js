// ###################################################################

// Common
let inkSac =
  "https://static.wixstatic.com/media/34c645_4e40fedfa46545f395540b0fa425cf65.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_4e40fedfa46545f395540b0fa425cf65.png";
let egg =
  "https://static.wixstatic.com/media/34c645_7b78b320216b42c4abdb951923ed3f09.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_7b78b320216b42c4abdb951923ed3f09.png";
let coal =
  "https://static.wixstatic.com/media/34c645_2d3a49e19b71460b8dccf92d0a1a3909.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_2d3a49e19b71460b8dccf92d0a1a3909.png";
let string =
  "https://static.wixstatic.com/media/34c645_4530ee20083249b7895163cddf5db9a6.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_4530ee20083249b7895163cddf5db9a6.png";
let stick =
  "https://static.wixstatic.com/media/34c645_07c8164d34f9498a9da7f1480ec74388.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_07c8164d34f9498a9da7f1480ec74388.png";
let seeds =
  "https://static.wixstatic.com/media/34c645_9e64dca8f189408a9f817eb4a39c7586.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_9e64dca8f189408a9f817eb4a39c7586.png";
let rottenFlesh =
  "https://static.wixstatic.com/media/34c645_7a0ca5fbe8c8498b979581d6cfa8843a.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_7a0ca5fbe8c8498b979581d6cfa8843a.png";
let rawPorkchop =
  "https://static.wixstatic.com/media/34c645_0a3ee643ed5d46af8344b7730b14590e.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_0a3ee643ed5d46af8344b7730b14590e.png";

const commonItems = [
  inkSac,
  egg,
  coal,
  string,
  stick,
  seeds,
  rottenFlesh,
  rawPorkchop,
];

// Uncommon
let leather =
  "https://static.wixstatic.com/media/34c645_dea077efe19843b6a81d117dbd504f59.png/v1/fill/w_540,h_280,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_dea077efe19843b6a81d117dbd504f59.png";
let carrot =
  "https://static.wixstatic.com/media/34c645_3483c33d9c1040d0a955abd6f96551dd.png/v1/fill/w_963,h_542,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_3483c33d9c1040d0a955abd6f96551dd.png";
let chainHelmet =
  "https://static.wixstatic.com/media/34c645_85e59abd212046708e2b520a9d252228.png/v1/fill/w_705,h_428,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_85e59abd212046708e2b520a9d252228.png";
let boneMeal =
  "https://static.wixstatic.com/media/34c645_5e3825974ef94abfa2911b8e5250d469.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_5e3825974ef94abfa2911b8e5250d469.png";
let netherWart =
  "https://static.wixstatic.com/media/34c645_c57198f24418422fb1712f8896e8ca60.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_c57198f24418422fb1712f8896e8ca60.png";
let steak =
  "https://static.wixstatic.com/media/34c645_d899adcb68274af7a2a1457fa0b3920c.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_d899adcb68274af7a2a1457fa0b3920c.png";

const uncommonItems = [
  steak,
  netherWart,
  boneMeal,
  chainHelmet,
  carrot,
  leather,
];

// Rare
let slimeBall =
  "https://static.wixstatic.com/media/34c645_76c61ebe1c994480b663325af243551c.png/v1/fill/w_705,h_435,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_76c61ebe1c994480b663325af243551c.png";
let mineCart =
  "https://static.wixstatic.com/media/34c645_bed31849fb7346a98b48e731adecbb30.png/v1/fill/w_705,h_435,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_bed31849fb7346a98b48e731adecbb30.png";
let glisteringMelon =
  "https://static.wixstatic.com/media/34c645_f49e99f77bae4e9e98b7c989f3b88522.png/v1/fill/w_705,h_435,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_f49e99f77bae4e9e98b7c989f3b88522.png";
let shears =
  "https://static.wixstatic.com/media/34c645_ba0dc070b0714626a9d9bf1bb375d0d4.png/v1/fill/w_705,h_435,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_ba0dc070b0714626a9d9bf1bb375d0d4.png";
let blazeRod =
  "https://static.wixstatic.com/media/34c645_db6c08963eb147af82764d7158d15a32.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_db6c08963eb147af82764d7158d15a32.png";
let fishingRod =
  "https://static.wixstatic.com/media/34c645_75e6f6cbb5c44ec591fe17ddeeeed1b0.png/v1/fill/w_705,h_435,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_75e6f6cbb5c44ec591fe17ddeeeed1b0.png";

const rareItems = [
  fishingRod,
  blazeRod,
  shears,
  glisteringMelon,
  mineCart,
  slimeBall,
];

// Epic
let ironSword =
  "https://static.wixstatic.com/media/34c645_337670d8fd814968b8261cefd2d77d29.png/v1/fill/w_705,h_435,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_337670d8fd814968b8261cefd2d77d29.png";
let lapis =
  "https://static.wixstatic.com/media/34c645_2a58a9bf86464325b20a8dd4989e0c0b.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_2a58a9bf86464325b20a8dd4989e0c0b.png";
let emerald =
  "https://static.wixstatic.com/media/34c645_4df7971b7a834d50a90000151c520019.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_4df7971b7a834d50a90000151c520019.png";
let goldenApple =
  "https://static.wixstatic.com/media/34c645_20b0634cffcc4d6cb3cddd97a4f16237.png/v1/fill/w_705,h_428,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_20b0634cffcc4d6cb3cddd97a4f16237.png";
let cake =
  "https://static.wixstatic.com/media/34c645_e0308028ef0043f2a9b04ab5abf154a8.png/v1/fill/w_705,h_428,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_e0308028ef0043f2a9b04ab5abf154a8.png";
let witherSkull =
  "https://static.wixstatic.com/media/34c645_290614d50659444eb97f5b8530688a3b.png/v1/fill/w_705,h_435,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_290614d50659444eb97f5b8530688a3b.png";

const epicItems = [ironSword, lapis, emerald, goldenApple, cake, witherSkull];

// Legendary
let diamond =
  "https://static.wixstatic.com/media/34c645_48c02661c56b43d8882334125cf9b0a9.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_48c02661c56b43d8882334125cf9b0a9.png";
let diamondSword =
  "https://static.wixstatic.com/media/34c645_9f133bc04f55446ea3bcd8cf451aa82b.png/v1/fill/w_1053,h_592,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/34c645_9f133bc04f55446ea3bcd8cf451aa82b.png";
let diamondPickaxe =
  "https://static.wixstatic.com/media/34c645_d0cb53818e8b4bc7b3907cb5495af71c.png/v1/fill/w_705,h_435,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_d0cb53818e8b4bc7b3907cb5495af71c.png";
let diamondBoots =
  "https://static.wixstatic.com/media/34c645_d8e567b9ae8645fa98e0775d45493df3.png/v1/fill/w_705,h_428,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_d8e567b9ae8645fa98e0775d45493df3.png";
let diamondChestplate =
  "https://static.wixstatic.com/media/34c645_7297d3d7aa3b4dd9a0c38486c4ad6f1b.png/v1/fill/w_705,h_428,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_7297d3d7aa3b4dd9a0c38486c4ad6f1b.png";
let diamondHelmet =
  "https://static.wixstatic.com/media/34c645_be9909c974644bafb366f14bdedcd138.png/v1/fill/w_705,h_428,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_be9909c974644bafb366f14bdedcd138.png";
let diamondLeggings =
  "https://static.wixstatic.com/media/34c645_bbb0e616cd71452ebeb372f237843886.png/v1/fill/w_705,h_428,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_bbb0e616cd71452ebeb372f237843886.png";
let netherStar =
  "https://static.wixstatic.com/media/34c645_a0eb55685c644dd1a899070d7d0c9396.png/v1/fill/w_705,h_435,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/34c645_a0eb55685c644dd1a899070d7d0c9396.png";

const legendaryItems = [
  diamond,
  diamondSword,
  diamondPickaxe,
  diamondBoots,
  diamondLeggings,
  diamondChestplate,
  diamondHelmet,
  netherStar,
];

// ##########################################################################

let item = document.getElementById("item");
let itemimg = document.getElementById("itemimg");
let itemPNG = document.getElementById("itemPNG");
let chest = document.getElementById("chest");
let open = document.getElementById("open");
let claim1 = document.getElementById("claim");
let claimback = document.getElementById("claimback");
const cl = console.log;
let temp = 0;
let background = document.getElementById("backgroundc");
let loginBackground = document.getElementById("background-log");
let signBackground = document.getElementById("background-sign");
let blockIMG = document.getElementById("block-click");
let money = 0;
let moneyText = document.getElementById("money");
let userNameText = document.getElementById("userName-Text");
let xp = 0;
let level = document.getElementById("level");

// Login/SignUp
let userLogin = document.getElementById("username-input-login");
let userSignup = document.getElementById("username-input-signup");
let passwordLogin = document.getElementById("password-input-login");
let passwordSignup = document.getElementById("password-input-signup");
let newUsername = "";
let invalid = document.getElementById("need-to-create");

// Pages
let minePage1 = document.getElementById("mine-page");
let shopPage1 = document.getElementById("shop-page");
let inventoryPage1 = document.getElementById("inventory-page");
let bettingPage1 = document.getElementById("betting-page");
let coinFlipPage1 = document.getElementById("coin-flip-page");
let upgradePage1 = document.getElementById("upgrade-page");

let blockHealthText = document.getElementById("block-health-text");
let blockHealth = 10;

let headsImg = document.getElementById("heads");
let tailsImg = document.getElementById("tails");
let winTitle = document.getElementById("coinflip-w-title");
let lossTitle = document.getElementById("coinflip-l-title");
let winClaim = document.getElementById("coinFlip-action-claimw");
let lossClaim = document.getElementById("coinFlip-action-claiml");
let betInput = document.getElementById("coinFlip-action-type");

let itemURLs = [];
let itemURLsString = JSON.stringify(itemURLs);

let upgradeDMGText = document.getElementById("upgradeDMG-text");
let upgradeDMG = document.getElementById("upgradeDMG");

let cost = 5;
let mult = 1.0;
let dmg = 1;
let upgradeLVL = 0;
// #################################################

function save() {
  localStorage.setItem(newUsername + "money", money);
  localStorage.setItem(newUsername + "xp", xp);
  let itemURLsString = JSON.stringify(itemURLs);
  localStorage.setItem(newUsername + "inventory", itemURLsString);
  localStorage.setItem(newUsername + "upgradeLVL", upgradeLVL);
  cl("SaveLVL: " + upgradeLVL.toString());
  display();
}

function load() {
  let savedMoney = localStorage.getItem(newUsername + "money");
  money = parseInt(savedMoney);
  let savedXp = localStorage.getItem(newUsername + "xp");
  xp = parseInt(savedXp);
  let itemURLs = JSON.parse(localStorage.getItem(newUsername + "inventory"));
  upgradeLVL = localStorage.getItem(newUsername + "upgradeLVL");
  cl("LoadLVL1: " + upgradeLVL.toString());
  display(true);
  cl("LoadLVL2: " + upgradeLVL.toString());
  iterateImages();
}

//############UPGRADES##################

function upgradeDMGfunction() {
  cl("no login" + upgradeLVL.toString());
  if (money - 5 >= cost) {
    upgradeLVL = upgradeLVL + 1;
    cost = upgradeLVL * 5;
    money = money - cost;
    mult = Math.round((1 + upgradeLVL * 0.1) * 10) / 10;
    dmg = mult;
    upgradeDMGText.innerText =
      "Cost: " +
      "$" +
      (cost + 5).toString() +
      ".00" +
      ". Increase click damage. Current: " +
      mult.toString() +
      "x";
    save();
  }
}

//##########FloatCheck############
function isFloat(n) {
  return Math.floor(n) !== n;
}
//##########FloatCheck############


//############UPGRADES##################

function display(a = false) {
  if (isFloat(Math.round(100 * money) / 100)) {
    moneyText.innerText =
      "Money: $" + (Math.round(100 * money) / 100).toString() + "0";
  } else {
    moneyText.innerText = "Money: $" + Math.floor(money).toString() + ".00";
  }
  if (xp >= 50) {
    level.innerText = "Level: 2";
  }
  if (xp >= 100) {
    level.innerText = "Level: 3";
  }
  if (xp >= 150) {
    level.innerText = "Level: 4";
  }
  if (xp >= 200) {
    level.innerText = "Level: 5";
  }
  if (xp >= 250) {
    level.innerText = "Level: 6";
  }
  if (xp >= 300) {
    level.innerText = "Level: 7";
  }

  if (money < 20) {
    chest.style.opacity = "0.3";
    chest;
  } else {
    chest.style.opacity = "1";
  }

  if (a) {
    cl("DisplayLVL: " + upgradeLVL.toString());
    //  upgradeLVL = upgradeLVL -1
  }
  cost = upgradeLVL * 5;
  mult = Math.round((1 + upgradeLVL * 0.1) * 10) / 10;
  dmg = mult;
  upgradeDMGText.innerText =
    "Cost: " +
    "$" +
    (cost + 5).toString() +
    ".00" +
    ". Increase click damage. Current: " +
    mult.toString() +
    "x";
}

// ##############################################

function clArr() {
  cl(itemURLs);
}

function repeat() {
  let i = 0;
  while (i < 3) {
    i++;
    console.log("I'm looping!");
  }
}

function openCase() {
  if (money >= 20) {
    let random = Math.random();
    if (random < 0.56) {
      result = "Common";
      itemimg.style.backgroundColor = "grey";
      itemimg.style.boxShadow = "0 0 50px 15px grey";
      claimback.style.backgroundColor = "gray";
      claimback.style.boxShadow = "0 0 50px 5px gray";
      item.style.color = "black";
      (item.style.textShadow = "0px 0px 5px grey"),
        "0px 0px 10px grey",
        "0px 0px 15px grey",
        "0px 0px 20px grey",
        "0px 0px 30px grey",
        "0px 0px 40px grey",
        "0px 0px 55px grey",
        "0px 0px 75px grey";

      tempItem1 = commonItems[Math.floor(Math.random() * commonItems.length)];
      itemURLs.push(tempItem1);
      // appendImageToDiv(tempItem1)
      removeItems();
      iterateImages();
      itemPNG.src = tempItem1;
      display();
    } else if (random < 0.76) {
      result = "Uncommon";
      itemimg.style.backgroundColor = "green";
      itemimg.style.boxShadow = "0 0 50px 15px green";
      claimback.style.backgroundColor = "green";
      claimback.style.boxShadow = "0 0 50px 15px green";
      item.style.color = "black";
      (item.style.textShadow = "0px 0px 5px green"),
        "0px 0px 10px green",
        "0px 0px 15px green",
        "0px 0px 20px green",
        "0px 0px 30px green",
        "0px 0px 40px green",
        "0px 0px 55px green",
        "0px 0px 75px green";
      tempItem2 =
        uncommonItems[Math.floor(Math.random() * uncommonItems.length)];
      itemURLs.push(tempItem2);
      // appendImageToDiv(tempItem2)
      removeItems();
      iterateImages();
      itemPNG.src = tempItem2;
    } else if (random < 0.87) {
      result = "Rare";
      itemimg.style.backgroundColor = "blue";
      itemimg.style.boxShadow = "0 0 50px 15px blue";
      claimback.style.backgroundColor = "blue";
      claimback.style.boxShadow = "0 0 50px 15px blue";
      item.style.color = "black";
      (item.style.textShadow = "0px 0px 5px blue"),
        "0px 0px 10px blue",
        "0px 0px 15px blue",
        "0px 0px 20px blue",
        "0px 0px 30px blue",
        "0px 0px 40px blue",
        "0px 0px 55px blue",
        "0px 0px 75px blue";
      tempItem3 = rareItems[Math.floor(Math.random() * rareItems.length)];
      itemURLs.push(tempItem3);
      // appendImageToDiv(tempItem3)
      removeItems();
      iterateImages();
      itemPNG.src = tempItem3;
    } else if (random < 0.96) {
      result = "Epic";
      itemimg.style.backgroundColor = "purple";
      itemimg.style.boxShadow = "0 0 50px 15px purple";
      claimback.style.backgroundColor = "purple";
      claimback.style.boxShadow = "0 0 50px 15px purple";
      item.style.color = "black";
      (item.style.textShadow = "0px 0px 5px purple"),
        "0px 0px 10px purple",
        "0px 0px 15px purple",
        "0px 0px 20px purple",
        "0px 0px 30px purple",
        "0px 0px 40px purple",
        "0px 0px 55px purle",
        "0px 0px 75px purple";
      tempItem4 = epicItems[Math.floor(Math.random() * epicItems.length)];
      itemURLs.push(tempItem4);
      // appendImageToDiv(tempItem4)
      removeItems();
      iterateImages();
      itemPNG.src = tempItem4;
    } else {
      result = "Legendary";
      itemimg.style.backgroundColor = "orange";
      itemimg.style.boxShadow = "0 0 50px 15px orange";
      claimback.style.backgroundColor = "orange";
      claimback.style.boxShadow = "0 0 50px 15px orange";
      item.style.color = "black";
      (item.style.textShadow = "0px 0px 5px orange"),
        "0px 0px 10px orange",
        "0px 0px 15px orange",
        "0px 0px 20px orange",
        "0px 0px 30px orange",
        "0px 0px 40px orange",
        "0px 0px 55px orange",
        "0px 0px 75px orange";
      tempItem5 =
        legendaryItems[Math.floor(Math.random() * legendaryItems.length)];
      itemURLs.push(tempItem5);
      // appendImageToDiv(tempItem5)
      iterateImages();
      itemPNG.src = tempItem5;
    }

    if (temp == 0) {
      temp = 1;
      // open.style.display = "none"
      claim1.style.display = "block";
      background.style.display = "block";
    }
    finalresult = item.innerText = result;
  }
}
function claim() {
  temp = 0;
  // open.style.display = "block"
  claim1.style.display = "none";
  background.style.display = "none";
  money = money - 20;
  display();
  itemURLsString = JSON.stringify(itemURLs);
  cl(itemURLs);
  save();
}

// pages//
function minePage() {
  minePage1.style.display = "block";
  shopPage1.style.display = "none";
  inventoryPage1.style.display = "none";
  bettingPage1.style.display = "none";
  upgradePage1.style.display = "none";
  coinFlipPage1.style.display = "none";
  save();
}

function shopPage() {
  minePage1.style.display = "none";
  shopPage1.style.display = "block";
  inventoryPage1.style.display = "none";
  bettingPage1.style.display = "none";
  upgradePage1.style.display = "none";
  coinFlipPage1.style.display = "none";
  save();
}

function inventoryPage() {
  minePage1.style.display = "none";
  shopPage1.style.display = "none";
  inventoryPage1.style.display = "block";
  bettingPage1.style.display = "none";
  upgradePage1.style.display = "none";
  coinFlipPage1.style.display = "none";
  save();
}

function bettingPage() {
  minePage1.style.display = "none";
  shopPage1.style.display = "none";
  inventoryPage1.style.display = "none";
  bettingPage1.style.display = "block";
  upgradePage1.style.display = "none";
  coinFlipPage1.style.display = "none";
  save();
}

function coinFlipPage() {
  minePage1.style.display = "none";
  shopPage1.style.display = "none";
  inventoryPage1.style.display = "none";
  bettingPage1.style.display = "none";
  upgradePage1.style.display = "none";
  coinFlipPage1.style.display = "block";
  save();
}

function upgradePage() {
  minePage1.style.display = "none";
  shopPage1.style.display = "none";
  inventoryPage1.style.display = "none";
  bettingPage1.style.display = "none";
  upgradePage1.style.display = "block";
  coinFlipPage1.style.display = "none";
  save();
}

function loginPress() {
  if (localStorage.getItem(userLogin.innerText) == passwordLogin.innerText) {
    loginBackground.style.display = "none";
    signBackground.style.display = "none";
    newUsername = userLogin.innerText;
    userNameText.innerText = newUsername;
    itemURLs = JSON.parse(localStorage.getItem(newUsername + "inventory"));
    iterateImages();
    load();
    cl("login");
  } else {
    invalid.style.display = "block";
  }
}

function displayMoney() {
  moneyText.innerText = "Money: $" + money.toString() + ".00";
}

function signUp() {
  loginBackground.style.display = "none";
  signBackground.style.display = "none";
  newUsername = userSignup.innerText;
  let newPassword = passwordSignup.innerText;
  localStorage.setItem(newUsername, newPassword);
  userNameText.innerText = userSignup.innerText;
  cl(newUsername);
}

function loginSwitch() {
  loginBackground.style.display = "block";
  signBackground.style.display = "none";
}

function signSwitch() {
  loginBackground.style.display = "none";
  signBackground.style.display = "block";
}

function blockPress() {
  blockIMG.style.animation = "clickb 0.1s linear forwards";
  setTimeout(() => {
    blockIMG.style.animation = "none";
  }, "100");
  blockHealth = blockHealth - dmg;
  blockHealthText.innerText =
    "Block Health: " + Math.round(blockHealth * 10) / 10 + "/10";

  save();
  cl(newUsername + "money", money);
  if (blockHealth < 0.00001) {
    blockHealth = 10;
    blockHealthText.innerText = "Block Health: " + blockHealth + "/10";
    money = money + 10;
    blockIMG.style.display = "none";
    setTimeout(() => {
      blockIMG.style.display = "block";
    }, "500");
  }
  money = money + dmg;
  moneyRound = Math.floor(money);
  cl("sss" + moneyRound.toString());
  moneyText.innerText = "Money: $" + moneyRound.toString() + ".00";
  xp = xp + 1;
  display();
}

function betEnterL() {
  let betTemp = betInput.innerText;
  moneyText.innerText = "Money: $" + money.toString() + ".00";
}

function betEnterW() {
  let betTemp = betInput.innerText;
  money = money + parseInt(betTemp) * 2;
  moneyText.innerText = "Money: $" + money.toString() + ".00";
}

function betEnterInitial() {
  let betTemp = betInput.innerText;
  money = money - betTemp;
  moneyText.innerText = "Money: $" + money.toString() + ".00";
}

function headsClick() {
  coinClick("heads");
}

function tailsClick() {
  coinClick("tails");
}

function coinClick(val) {
  let tempG = Math.random();

  if (val == "heads") {
    if (tempG >= 0.5) {
      heads.style.animation = "win 4s ease-in-out forwards";
      tails.style.animation = "loss 4s ease-in-out forwards";
      setTimeout(() => {
        winTitle.style.display = "block";
      }, 4000);
      setTimeout(() => {
        winClaim.style.display = "block";
      }, 4000);
      setTimeout(() => {
        betEnterW();
      }, 4000);
      betEnterInitial();
    } else {
      heads.style.animation = "loss 4s ease-in-out forwards";
      tails.style.animation = "win 4s ease-in-out forwards";
      setTimeout(() => {
        lossTitle.style.display = "block";
      }, 4000);
      setTimeout(() => {
        lossClaim.style.display = "block";
      }, 4000);
      setTimeout(() => {
        betEnterL();
      }, 4000);
      betEnterInitial();
    }
  } else {
    if (tempG < 0.5) {
      heads.style.animation = "loss 4s ease-in-out forwards";
      tails.style.animation = "win 4s ease-in-out forwards";
      setTimeout(() => {
        winTitle.style.display = "block";
      }, 4000);
      setTimeout(() => {
        winClaim.style.display = "block";
      }, 4000);
      setTimeout(() => {
        betEnterW();
      }, 4000);
      betEnterInitial();
    } else {
      heads.style.animation = "win 4s ease-in-out forwards";
      tails.style.animation = "loss 4s ease-in-out forwards";
      setTimeout(() => {
        lossTitle.style.display = "block";
      }, 4000);
      setTimeout(() => {
        lossClaim.style.display = "block";
      }, 4000);
      setTimeout(() => {
        betEnterL();
      }, 4000);
      betEnterInitial();
    }
  }
}

function claimClick() {
  lossTitle.style.display = "none";
  lossClaim.style.display = "none";
  winTitle.style.display = "none";
  winClaim.style.display = "none";
  heads.style.animation = "none";
  tails.style.animation = "none";
}

const animalImgDiv = document.getElementById("animal-images");
const randomDiv = document.getElementById("random-animals");

function iterateImages() {
  itemURLs.forEach((item, index) => {
    appendImageToDiv(item, index);
  });
}

function common(itemIMG, deleteButton) {
  itemIMG.style.backgroundColor = "grey";
  deleteButton.style.backgroundColor = "grey";
  itemIMG.style.boxShadow = "0 0 50px 3px grey";
  deleteButton.style.boxShadow = "0 0 50px 3px grey";
}

function uncommon(itemIMG, deleteButton) {
  itemIMG.style.backgroundColor = "green";
  deleteButton.style.backgroundColor = "green";
  itemIMG.style.boxShadow = "0 0 50px 3px green";
  deleteButton.style.boxShadow = "0 0 50px 3px green";
}

function rare(itemIMG, deleteButton) {
  itemIMG.style.backgroundColor = "blue";
  deleteButton.style.backgroundColor = "blue";
  itemIMG.style.boxShadow = "0 0 50px 3px blue";
  deleteButton.style.boxShadow = "0 0 50px 3px blue";
}

function epic(itemIMG, deleteButton) {
  itemIMG.style.backgroundColor = "purple";
  deleteButton.style.backgroundColor = "purple";
  itemIMG.style.boxShadow = "0 0 50px 3px purple";
  deleteButton.style.boxShadow = "0 0 50px 3px purple";
}

function legendary(itemIMG, deleteButton) {
  itemIMG.style.backgroundColor = "orange";
  deleteButton.style.backgroundColor = "orange";
  itemIMG.style.boxShadow = "0 0 50px 3px orange";
  deleteButton.style.boxShadow = "0 0 50px 3px orange";
}

function appendImageToDiv(url, index) {
  const imgContainer = document.createElement("div");
  const deleteButton = document.createElement("button");
  deleteButton.textContent = "Sell Item";
  deleteButton.classList.add("delete-button");
  imgContainer.classList.add("img-cont");
  deleteButton.dataset.index = index;
  deleteButton.addEventListener("click", sellItem);
  imgContainer.appendChild(deleteButton);
  const itemIMG = document.createElement("img");
  itemIMG.src = url;

  if (commonItems.includes(itemIMG.src)) {
    common(itemIMG, deleteButton);
  }

  if (uncommonItems.includes(itemIMG.src)) {
    uncommon(itemIMG, deleteButton);
  }

  if (rareItems.includes(itemIMG.src)) {
    rare(itemIMG, deleteButton);
  }

  if (epicItems.includes(itemIMG.src)) {
    epic(itemIMG, deleteButton);
  }

  if (legendaryItems.includes(itemIMG.src)) {
    legendary(itemIMG, deleteButton);
  }

  itemIMG.title = "chest-drop";
  imgContainer.appendChild(itemIMG);
  randomDiv.appendChild(imgContainer);
  save();
}

function checkSellRarity(index) {
  if (commonItems.includes(itemURLs[index])) {
    money = money + 4;
    displayMoney();
  }
  if (uncommonItems.includes(itemURLs[index])) {
    money = money + 15;
    displayMoney();
  }

  if (rareItems.includes(itemURLs[index])) {
    money = money + 30;
    displayMoney();
  }

  if (epicItems.includes(itemURLs[index])) {
    money = money + 100;
    displayMoney();
  }

  if (legendaryItems.includes(itemURLs[index])) {
    money = money + 300;
    displayMoney();
  }
}

function sellItem() {
  const index = event.target.dataset.index;
  cl(index);
  // if(index=="undefined"){
  // checkSellRarity(0)}
  // else{
  checkSellRarity(index);
  // }

  itemURLs.splice(index, 1);
  event.target.parentElement.remove();
  document.querySelectorAll(".delete-button").forEach((button, newIndex) => {
    button.dataset.index = newIndex;
  });
}

// function removeItems() {
//   if(document.querySelector('.img-cont') != null){
//   document.querySelector('.img-cont').remove()}
//    // imgContainer.remove()
// }

function removeItems() {
  let i = 0;
  while (i < 10000) {
    i++;
    if (document.querySelector(".img-cont") != null) {
      document.querySelector(".img-cont").remove();
    }
  }
}
